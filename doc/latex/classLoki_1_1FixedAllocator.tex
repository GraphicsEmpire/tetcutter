\hypertarget{classLoki_1_1FixedAllocator}{}\section{Loki\+:\+:Fixed\+Allocator Class Reference}
\label{classLoki_1_1FixedAllocator}\index{Loki\+::\+Fixed\+Allocator@{Loki\+::\+Fixed\+Allocator}}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classLoki_1_1FixedAllocator_ace7ad725a2f44c427641f4ce629a3aac}{}\hyperlink{classLoki_1_1FixedAllocator_ace7ad725a2f44c427641f4ce629a3aac}{Fixed\+Allocator} ()\label{classLoki_1_1FixedAllocator_ace7ad725a2f44c427641f4ce629a3aac}

\begin{DoxyCompactList}\small\item\em Create a \hyperlink{classLoki_1_1FixedAllocator}{Fixed\+Allocator} which manages blocks of \textquotesingle{}block\+Size\textquotesingle{} size. \end{DoxyCompactList}\item 
\hypertarget{classLoki_1_1FixedAllocator_a080589e92d310aeb4e432d195bcd7ba5}{}\hyperlink{classLoki_1_1FixedAllocator_a080589e92d310aeb4e432d195bcd7ba5}{$\sim$\+Fixed\+Allocator} ()\label{classLoki_1_1FixedAllocator_a080589e92d310aeb4e432d195bcd7ba5}

\begin{DoxyCompactList}\small\item\em Destroy the \hyperlink{classLoki_1_1FixedAllocator}{Fixed\+Allocator} and release all its Chunks. \end{DoxyCompactList}\item 
\hypertarget{classLoki_1_1FixedAllocator_a5fb8edbf26f6ab26a0c332391909fa0c}{}void \hyperlink{classLoki_1_1FixedAllocator_a5fb8edbf26f6ab26a0c332391909fa0c}{Initialize} (std\+::size\+\_\+t block\+Size, std\+::size\+\_\+t page\+Size)\label{classLoki_1_1FixedAllocator_a5fb8edbf26f6ab26a0c332391909fa0c}

\begin{DoxyCompactList}\small\item\em Initializes a \hyperlink{classLoki_1_1FixedAllocator}{Fixed\+Allocator} by calculating \# of blocks per \hyperlink{classLoki_1_1Chunk}{Chunk}. \end{DoxyCompactList}\item 
void $\ast$ \hyperlink{classLoki_1_1FixedAllocator_ac29973a11534fb1006fd28db97a17bed}{Allocate} (void)
\item 
bool \hyperlink{classLoki_1_1FixedAllocator_a49ab7ca3364fe05f2d7d91248ee5d0e3}{Deallocate} (void $\ast$p, \hyperlink{classLoki_1_1Chunk}{Chunk} $\ast$hint)
\item 
\hypertarget{classLoki_1_1FixedAllocator_a37df732230913b2dd9126a6b311586f0}{}std\+::size\+\_\+t \hyperlink{classLoki_1_1FixedAllocator_a37df732230913b2dd9126a6b311586f0}{Block\+Size} () const \label{classLoki_1_1FixedAllocator_a37df732230913b2dd9126a6b311586f0}

\begin{DoxyCompactList}\small\item\em Returns block size with which the \hyperlink{classLoki_1_1FixedAllocator}{Fixed\+Allocator} was initialized. \end{DoxyCompactList}\item 
bool \hyperlink{classLoki_1_1FixedAllocator_a4df95a9324de31f05d931f2eea25165e}{Trim\+Empty\+Chunk} (void)
\item 
bool \hyperlink{classLoki_1_1FixedAllocator_a2b92d73c032c2ae6942ef9aadf6f27fc}{Trim\+Chunk\+List} (void)
\item 
std\+::size\+\_\+t \hyperlink{classLoki_1_1FixedAllocator_ae74cbab50e78bfa115d7c0fcdce00641}{Count\+Empty\+Chunks} (void) const 
\item 
bool \hyperlink{classLoki_1_1FixedAllocator_a41a7ad189cba00f504635aade8b3d15c}{Is\+Corrupt} (void) const 
\item 
const \hyperlink{classLoki_1_1Chunk}{Chunk} $\ast$ \hyperlink{classLoki_1_1FixedAllocator_af84b504579cea189ce1c415ee8ed5d2c}{Has\+Block} (void $\ast$p) const 
\item 
\hypertarget{classLoki_1_1FixedAllocator_a83fb007d47ab1653a9cba11c87ea3df1}{}\hyperlink{classLoki_1_1Chunk}{Chunk} $\ast$ {\bfseries Has\+Block} (void $\ast$p)\label{classLoki_1_1FixedAllocator_a83fb007d47ab1653a9cba11c87ea3df1}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Offers services for allocating fixed-\/sized objects. It has a container of \char`\"{}containers\char`\"{} of fixed-\/size blocks. The outer container has all the Chunks. The inner container is a \hyperlink{classLoki_1_1Chunk}{Chunk} which owns some blocks.

\begin{DoxyParagraph}{Class Level Invariants}

\begin{DoxyItemize}
\item There is always either zero or one \hyperlink{classLoki_1_1Chunk}{Chunk} which is empty.
\item If this has no empty \hyperlink{classLoki_1_1Chunk}{Chunk}, then empty\+Chunk\+\_\+ is N\+U\+L\+L.
\item If this has an empty \hyperlink{classLoki_1_1Chunk}{Chunk}, then empty\+Chunk\+\_\+ points to it.
\item If the \hyperlink{classLoki_1_1Chunk}{Chunk} container is empty, then dealloc\+Chunk\+\_\+ and alloc\+Chunk\+\_\+ are N\+U\+L\+L.
\item If the \hyperlink{classLoki_1_1Chunk}{Chunk} container is not-\/empty, then dealloc\+Chunk\+\_\+ and alloc\+Chunk\+\_\+ are either N\+U\+L\+L or point to Chunks within the container.
\item alloc\+Chunk\+\_\+ will often point to the last \hyperlink{classLoki_1_1Chunk}{Chunk} in the container since it was likely allocated most recently, and therefore likely to have an available block. 
\end{DoxyItemize}
\end{DoxyParagraph}


\subsection{Member Function Documentation}
\hypertarget{classLoki_1_1FixedAllocator_ac29973a11534fb1006fd28db97a17bed}{}\index{Loki\+::\+Fixed\+Allocator@{Loki\+::\+Fixed\+Allocator}!Allocate@{Allocate}}
\index{Allocate@{Allocate}!Loki\+::\+Fixed\+Allocator@{Loki\+::\+Fixed\+Allocator}}
\subsubsection[{Allocate(void)}]{\setlength{\rightskip}{0pt plus 5cm}void $\ast$ Loki\+::\+Fixed\+Allocator\+::\+Allocate (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{classLoki_1_1FixedAllocator_ac29973a11534fb1006fd28db97a17bed}
Returns pointer to allocated memory block of fixed size -\/ or N\+U\+L\+L if it failed to allocate. \hypertarget{classLoki_1_1FixedAllocator_ae74cbab50e78bfa115d7c0fcdce00641}{}\index{Loki\+::\+Fixed\+Allocator@{Loki\+::\+Fixed\+Allocator}!Count\+Empty\+Chunks@{Count\+Empty\+Chunks}}
\index{Count\+Empty\+Chunks@{Count\+Empty\+Chunks}!Loki\+::\+Fixed\+Allocator@{Loki\+::\+Fixed\+Allocator}}
\subsubsection[{Count\+Empty\+Chunks(void) const }]{\setlength{\rightskip}{0pt plus 5cm}std\+::size\+\_\+t Loki\+::\+Fixed\+Allocator\+::\+Count\+Empty\+Chunks (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\label{classLoki_1_1FixedAllocator_ae74cbab50e78bfa115d7c0fcdce00641}
Returns count of empty Chunks held by this allocator. Complexity is O(\+C) where \hyperlink{classC}{C} is the total number of Chunks -\/ empty or used. \hypertarget{classLoki_1_1FixedAllocator_a49ab7ca3364fe05f2d7d91248ee5d0e3}{}\index{Loki\+::\+Fixed\+Allocator@{Loki\+::\+Fixed\+Allocator}!Deallocate@{Deallocate}}
\index{Deallocate@{Deallocate}!Loki\+::\+Fixed\+Allocator@{Loki\+::\+Fixed\+Allocator}}
\subsubsection[{Deallocate(void $\ast$p, Chunk $\ast$hint)}]{\setlength{\rightskip}{0pt plus 5cm}bool Loki\+::\+Fixed\+Allocator\+::\+Deallocate (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{p, }
\item[{{\bf Chunk} $\ast$}]{hint}
\end{DoxyParamCaption}
)}\label{classLoki_1_1FixedAllocator_a49ab7ca3364fe05f2d7d91248ee5d0e3}
Deallocate a memory block previously allocated with Allocate. If the block is not owned by this \hyperlink{classLoki_1_1FixedAllocator}{Fixed\+Allocator}, it returns false so that \hyperlink{classLoki_1_1SmallObjAllocator}{Small\+Obj\+Allocator} can call the default deallocator. If the block was found, this returns true. \hypertarget{classLoki_1_1FixedAllocator_af84b504579cea189ce1c415ee8ed5d2c}{}\index{Loki\+::\+Fixed\+Allocator@{Loki\+::\+Fixed\+Allocator}!Has\+Block@{Has\+Block}}
\index{Has\+Block@{Has\+Block}!Loki\+::\+Fixed\+Allocator@{Loki\+::\+Fixed\+Allocator}}
\subsubsection[{Has\+Block(void $\ast$p) const }]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Chunk} $\ast$ Loki\+::\+Fixed\+Allocator\+::\+Has\+Block (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{p}
\end{DoxyParamCaption}
) const}\label{classLoki_1_1FixedAllocator_af84b504579cea189ce1c415ee8ed5d2c}
Returns true if the block at address p is within a \hyperlink{classLoki_1_1Chunk}{Chunk} owned by this \hyperlink{classLoki_1_1FixedAllocator}{Fixed\+Allocator}. Complexity is O(\+C) where \hyperlink{classC}{C} is the total number of Chunks -\/ empty or used. \hypertarget{classLoki_1_1FixedAllocator_a41a7ad189cba00f504635aade8b3d15c}{}\index{Loki\+::\+Fixed\+Allocator@{Loki\+::\+Fixed\+Allocator}!Is\+Corrupt@{Is\+Corrupt}}
\index{Is\+Corrupt@{Is\+Corrupt}!Loki\+::\+Fixed\+Allocator@{Loki\+::\+Fixed\+Allocator}}
\subsubsection[{Is\+Corrupt(void) const }]{\setlength{\rightskip}{0pt plus 5cm}bool Loki\+::\+Fixed\+Allocator\+::\+Is\+Corrupt (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\label{classLoki_1_1FixedAllocator_a41a7ad189cba00f504635aade8b3d15c}
Determines if \hyperlink{classLoki_1_1FixedAllocator}{Fixed\+Allocator} is corrupt. Checks data members to see if any have erroneous values, or violate class invariants. It also checks if any \hyperlink{classLoki_1_1Chunk}{Chunk} is corrupt. Complexity is O(\+C) where \hyperlink{classC}{C} is the number of Chunks. If any data is corrupt, this will return true in release mode, or assert in debug mode. \hypertarget{classLoki_1_1FixedAllocator_a2b92d73c032c2ae6942ef9aadf6f27fc}{}\index{Loki\+::\+Fixed\+Allocator@{Loki\+::\+Fixed\+Allocator}!Trim\+Chunk\+List@{Trim\+Chunk\+List}}
\index{Trim\+Chunk\+List@{Trim\+Chunk\+List}!Loki\+::\+Fixed\+Allocator@{Loki\+::\+Fixed\+Allocator}}
\subsubsection[{Trim\+Chunk\+List(void)}]{\setlength{\rightskip}{0pt plus 5cm}bool Loki\+::\+Fixed\+Allocator\+::\+Trim\+Chunk\+List (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{classLoki_1_1FixedAllocator_a2b92d73c032c2ae6942ef9aadf6f27fc}
Releases unused spots from Chunk\+List. This takes constant time with respect to \# of Chunks, but actual time depends on underlying memory allocator. \begin{DoxyReturn}{Returns}
False if no unused spots, true if some found and released. 
\end{DoxyReturn}
\hypertarget{classLoki_1_1FixedAllocator_a4df95a9324de31f05d931f2eea25165e}{}\index{Loki\+::\+Fixed\+Allocator@{Loki\+::\+Fixed\+Allocator}!Trim\+Empty\+Chunk@{Trim\+Empty\+Chunk}}
\index{Trim\+Empty\+Chunk@{Trim\+Empty\+Chunk}!Loki\+::\+Fixed\+Allocator@{Loki\+::\+Fixed\+Allocator}}
\subsubsection[{Trim\+Empty\+Chunk(void)}]{\setlength{\rightskip}{0pt plus 5cm}bool Loki\+::\+Fixed\+Allocator\+::\+Trim\+Empty\+Chunk (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{classLoki_1_1FixedAllocator_a4df95a9324de31f05d931f2eea25165e}
Releases the memory used by the empty \hyperlink{classLoki_1_1Chunk}{Chunk}. This will take constant time under any situation. \begin{DoxyReturn}{Returns}
True if empty chunk found and released, false if none empty. 
\end{DoxyReturn}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/\+Users/pourya/\+Desktop/platform/repos/tetcutter/src/3rdparty/loki/src/Small\+Obj.\+cpp\end{DoxyCompactItemize}
