<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>tetcutter: StrongPtr Ownership policies</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tetcutter
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">High-Performance cutting tetrahedral meshes.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">StrongPtr Ownership policies<div class="ingroups"><a class="el" href="group__SmartPointerGroup.html">Smart pointers</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLoki_1_1Private_1_1TwoRefCountInfo.html">Loki::Private::TwoRefCountInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLockableTwoRefCountInfo.html">LockableTwoRefCountInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLoki_1_1TwoRefCounts.html">Loki::TwoRefCounts</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLockableTwoRefCounts.html">LockableTwoRefCounts</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLoki_1_1TwoRefLinks.html">Loki::TwoRefLinks</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<dl class="section user"><dt>Terminology</dt><dd>These terms are used within this file's comments.<ol type="1">
<li>StrongPtr : Class used to implement both strong and weak pointers. The second template parameter determines if a StrongPtr is weak or strong.</li>
<li>Strong pointer : <a class="el" href="structA.html">A</a> pointer that claims ownership of a shared object. When the last strong copointer dies, the object is destroyed even if there are weak copointers.</li>
<li>Weak pointer : <a class="el" href="structA.html">A</a> pointer that does not own the shared object it points to. It only destroys the shared object if there no strong copointers exist when it dies.</li>
<li>Copointers : All the pointers that refer to the same shared object. The copointers must have the same ownership policy, but the other policies may be different.</li>
<li>Pointee : The shared object.</li>
</ol>
</dd></dl>
<dl class="section user"><dt>OwnershipPolicy</dt><dd>The ownership policy has the pointer to the actual object, and it also keeps track of the strong and weak copointers so that it can know if any strong copointers remain. The plain pointer it maintains is stored as a void pointer, which allows the ownership policy classes to be monolithic classes instead of template classes. As monolithic classes, they reduce amount of code-bloat.</dd></dl>
<dl class="section user"><dt>Writing Your Own OwnershipPolicy</dt><dd>If you write your own policy, you must implement these 12 functions:<ol type="1">
<li>explicit YourPolicy( bool strong )</li>
<li>YourPolicy( void * p, bool strong )</li>
<li>YourPolicy( const YourPolicy &amp; rhs, bool strong )</li>
<li>bool Release( bool strong )</li>
<li>void Increment( bool strong )</li>
<li>bool Decrement( bool strong )</li>
<li>bool HasStrongPointer( void ) const</li>
<li>void Swap( YourPolicy &amp; rhs )</li>
<li>void SetPointer( void * p )</li>
<li>void ZapPointer( void )</li>
<li>void * GetPointer( void ) const</li>
<li>void * &amp; GetPointerRef( void ) const It is strongly recommended that all 12 of these functions be protected instead of public. These two functions are optional for single-threaded policies, but required for multi-threaded policies:</li>
<li>void Lock( void ) const</li>
<li>void Unlock( void ) const This function is entirely optional:</li>
<li>bool Merge( TwoRefLinks &amp; rhs )</li>
</ol>
</dd></dl>
<dl class="section user"><dt>DeletePolicy</dt><dd>The delete policy provides a mechanism to destroy an object and a default value for an uninitialized pointer. You can override this policy with your own when using the <a class="el" href="classSingleton.html">Singleton</a>, NullObject, or Prototype design patterns.</dd></dl>
<dl class="section user"><dt>Writing Your Own DeletePolicy</dt><dd>If you write your own policy, you must implement these 3 functions:<ol type="1">
<li>void static Delete( const P * p )</li>
<li>static P * Default( void )</li>
<li>void Swap( YourResetPolicy &amp; )</li>
</ol>
</dd></dl>
<dl class="section user"><dt>ResetPolicy</dt><dd><a class="el" href="structA.html">A</a> reset policy tells the ReleaseAll and ResetAll functions whether they should release or reset the StrongPtr copointers. These functions do not affect just one StrongPtr, but all copointers. That is unlike SmartPtr where the Release and Reset functions only affect 1 SmartPtr, and leave all copointers untouched. <a class="el" href="structA.html">A</a> useful trick you can do with the ResetPolicy is to not allow reset when a strong pointer exists, and then use the NoCheck policy for all strong pointers. The reset policy guarantees the strong pointers always have a valid pointee, so checking is not required; but weak pointers may still require checking.</dd></dl>
<dl class="section user"><dt>Writing Your Own ResetPolicy</dt><dd>If you write your own policy, you must implement these 2 functions:<ol type="1">
<li>bool OnReleaseAll( bool ) const</li>
<li>bool OnResetAll( bool ) const The bool parameter means that this was called with a strong pointer or one of its copointers is strong. The return value means the pointer can be reset or released. </li>
</ol>
</dd></dl>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Feb 16 2016 17:37:18 for tetcutter by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
